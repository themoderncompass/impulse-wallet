<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Impulse Wallet</title>
  <link rel="stylesheet" href="styles.css?v=4">
  <link rel="icon" href="/favicon.ico">
  <link rel="apple-touch-icon" sizes="192x192" href="/icons/icon-192.png">
  <link rel="apple-touch-icon" sizes="512x512" href="/icons/icon-512.png">
</head>
<body>
  <main class="container">

<header class="header">
  <div class="header-left">
    <img src="/icons/icon-512.png" alt="Impulse Wallet" class="app-logo">
    <h1>Impulse Wallet</h1>
  </div>

  <!-- Header actions: Weekly Focus + Instructions -->
  <div class="header-right">
<button id="focus-open"
        class="instructions-btn hidden"
        type="button"
        aria-haspopup="dialog"
        aria-controls="focus-modal"
        aria-label="Open weekly focus">
  Weekly Focus
</button>

    <button id="instructions-open"
            class="instructions-btn"
            type="button"
            aria-haspopup="dialog"
            aria-controls="instructions-modal"
            aria-label="Open instructions">
      Instructions
    </button>
  </div>
</header>

<!-- Instructions modal -->
<div id="instructions-modal" class="modal" role="dialog" aria-modal="true" aria-labelledby="instructions-title" hidden>
  <div class="modal-content" role="document" tabindex="-1">
    <button id="instructions-close" class="modal-close" type="button" aria-label="Close instructions">×</button>
    <h2 id="instructions-title">Instructions</h2>
    <div class="modal-body">
<section class="iw-instructions">
  <h2>Impulse Wallet</h2>
  <p class="lead">
    Impulse Wallet is a simple game to build better habits and control impulses.
    Good choices add to your wallet, and slips take from it. You want to be the first to reach $20 for the week and maintain it. Anyone that reaches $20 and stays there or above it is a winner. 
  </p>

  <h3>How it Works</h3>
  <ol class="steps">
    <li><strong>Pick Focus Areas:</strong> Choose 2–3 areas (fitness, work, relationships, mindfulness). Most actions should connect here, but they do not have to.</li>
    <li><strong>Make Deposits:</strong> Log when you act on a positive impulse (exercise, finish a task) or resist a negative one (skip scrolling, avoid procrastination).</li>
    <li><strong>Log Withdrawals:</strong> Record when you give in to an impulse you meant to resist. Withdrawals reset your streak and show where to focus.</li>
    <li><strong>Track Streaks:</strong> Consistency matters. More deposits than withdrawals builds momentum.</li>
    <li><strong>Start Fresh Each Week:</strong> Your wallet resets every Monday so you can refocus and choose new areas if you want.</li>
  </ol>

  <h3>The Purpose</h3>
  <p>
    It is not about perfection. It is about awareness. By tracking deposits and withdrawals,
    you build focus, discipline, and self control week by week.
  </p>
</section>

<style>
  .iw-instructions { max-width: 48rem; margin: 0 auto; line-height: 1.6; }
  .iw-instructions .lead { margin: 0 0 1rem 0; }
  .iw-instructions h2 { font-size: 1.25rem; margin: 0 0 .5rem 0; }
  .iw-instructions h3 { font-size: 1rem; margin: 1rem 0 .5rem 0; }
  .iw-instructions .steps { padding-left: 1.25rem; margin: 0; }
  .iw-instructions .steps li { margin: .5rem 0; }
  .iw-instructions .steps li strong { display: inline-block; min-width: 15ch; }
</style>

    </div>
  </div>
</div>

<!-- Weekly Focus modal -->
<div id="focus-modal" class="modal" role="dialog" aria-modal="true" aria-labelledby="focus-title" hidden>
  <div class="modal-content" role="document" tabindex="-1">
    <button id="focus-close" class="modal-close" type="button" aria-label="Close weekly focus">×</button>
    <h2 id="focus-title">Choose your 2–3 focus areas</h2>
    <p class="muted">These lock for the week and reset Monday at 12:01 AM.</p>

    <form id="focus-form">
   <fieldset class="focus-grid">
  <label><input type="checkbox" name="focusArea" value="Eat Healthy"> Eat Healthy</label>
  <label><input type="checkbox" name="focusArea" value="Exercise"> Exercise</label>
  <label><input type="checkbox" name="focusArea" value="Scrolling"> Scrolling</label>
  <label><input type="checkbox" name="focusArea" value="Snacking"> Snacking</label>
  <label><input type="checkbox" name="focusArea" value="Spending"> Spending</label>
  <label><input type="checkbox" name="focusArea" value="Booze"> Booze</label>
  <label><input type="checkbox" name="focusArea" value="Procrastination"> Procrastination</label>
  <label><input type="checkbox" name="focusArea" value="Gratitude"> Gratitude</label>
</fieldset>

      </fieldset>

      <!-- Optional custom area -->
      <div class="focus-custom">
        <input id="focus-custom-input" type="text" placeholder="Add a custom area">
        <button type="button" id="focus-add-custom">Add</button>
      </div>

      <div class="focus-actions">
        <span id="focus-error" class="error" aria-live="polite"></span>
        <button type="submit" class="primary">Save</button>
      </div>
    </form>
  </div>
</div>

    <section class="card">
      <div class="join">
        <div>
          <label>Room code</label>
          <input id="room" placeholder="ABCDE" />
        </div>
        <div>
          <label>Display name</label>
          <input id="name" placeholder="Your name" />
        </div>
        <div class="actions">
<button id="create" class="primary" type="button">Create room</button>
<button id="join"   class="secondary" type="button">Join</button>

        </div>
      </div>

      <div id="play" class="hidden">
        <div class="meta">
          <span id="week"></span>
          <button id="undo" class="secondary">Undo last (15 min)</button>
           <button id="leave-room" class="secondary hidden">Leave Room</button>
        </div>

        <!-- Weekly Focus chips appear here once set -->
        <div id="focus-chips" class="focus-chips" aria-label="Weekly focus areas"></div>

        <div class="controls">
          <input id="impulse" placeholder="Optional impulse label" />
          <button id="plus" class="good">Deposit +$1</button>
          <button id="minus" class="bad">Withdrawal −$1</button>
        </div>

        <div id="banner" class="hidden banner"></div>

        <h2>Leaderboard (this week)</h2>
        <table id="board">
          <thead><tr><th>Player</th><th>Balance</th><th>Longest streak</th></tr></thead>
          <tbody></tbody>
        </table>

        <h2>My history</h2>
        <div class="history-head">
          <select id="months">
            <option value="3">3 months</option>
            <option value="6">6 months</option>
            <option value="12" selected>12 months</option>
          </select>
          <button id="csv" class="secondary">Export CSV</button>
        </div>
        <table id="mine">
          <thead><tr><th>When</th><th>Amount</th><th>Impulse</th><th>Note</th></tr></thead>
          <tbody></tbody>
        </table>
      </div>
    </section>
      <!-- Footer -->
  <footer class="site-footer">
    <nav class="legal-links" aria-label="Legal">
      <a href="https://themoderncompass.io" target="_blank" rel="noopener noreferrer">
        Modern Compass
      </a>
      <span class="sep" aria-hidden="true">|</span>
      <button id="open-privacy" class="link-like" type="button" aria-haspopup="dialog" aria-controls="privacy-modal">
        Privacy Policy
      </button>
      <span class="sep" aria-hidden="true">|</span>
      <button id="open-terms" class="link-like" type="button" aria-haspopup="dialog" aria-controls="terms-modal">
        Terms & Conditions
      </button>
    </nav>
    <small>© 2025 Modern Compass. All rights reserved</small>
  </footer>

  <!-- Privacy Policy modal -->
  <div id="privacy-modal" class="modal" role="dialog" aria-modal="true" aria-labelledby="privacy-title" hidden>
    <div class="modal-content" role="document" tabindex="-1">
      <button id="privacy-close" class="modal-close" type="button" aria-label="Close privacy policy">×</button>
      <h2 id="privacy-title">Privacy Policy</h2>
      <div class="modal-body policy-body">
        <p><strong>Last updated:</strong> September 2, 2025</p>
        <p>Impulse Wallet is a product offered by <strong>Modern Compass, a brand operated by Josh Imholte</strong> (“we,” “us,” “our”). We respect your privacy and are committed to protecting your information. This Privacy Policy explains what we collect, how we use it, and your choices.</p>

        <h3>1. What we collect</h3>
        <ul>
          <li><strong>Account or contact info:</strong> If you join the beta, we may collect your email to grant access and share updates.</li>
          <li><strong>App data you provide:</strong> Focus areas, weekly actions, and simple settings.</li>
          <li><strong>Local storage on your device:</strong> We may use localStorage or cookies to remember session state and preferences.</li>
          <li><strong>Basic analytics (optional):</strong> We may use lightweight analytics to understand usage such as page views and feature adoption. We do not sell personal data.</li>
        </ul>

        <h3>2. How we use data</h3>
        <ul>
          <li>To operate and improve Impulse Wallet.</li>
          <li>To communicate about the beta.</li>
          <li>To analyze anonymized or aggregated usage trends that guide product decisions and content.</li>
        </ul>

        <h3>3. Data sharing</h3>
        <p>We do not sell your personal information. We may share limited data with service providers who help us run the product such as hosting or analytics. These providers are bound by confidentiality and only use data to perform services for us. We may disclose information if required by law or to protect our rights, users, or the service.</p>

        <h3>4. Data retention</h3>
        <ul>
          <li><strong>App data:</strong> Kept as long as needed to provide the service or until you request deletion.</li>
          <li><strong>Beta emails:</strong> Retained while the beta is active or until you opt out.</li>
          <li><strong>Local device storage:</strong> You can clear your browser or app storage at any time. Doing so may affect your experience.</li>
        </ul>

        <h3>5. Your choices</h3>
        <ul>
          <li><strong>Access, correction, or deletion:</strong> Email us to request a copy, correction, or deletion of your data.</li>
          <li><strong>Opt out of emails:</strong> Use unsubscribe links where available or email us.</li>
        </ul>

        <h3>6. Children’s privacy</h3>
        <p>Impulse Wallet is not directed to children under 13 or the minimum age in your jurisdiction. Do not use the service if you are under that age.</p>

        <h3>7. Security</h3>
        <p>We use reasonable safeguards appropriate for an MVP or beta product. No method of transmission or storage is 100% secure.</p>

        <h3>8. International users</h3>
        <p>If you access the app outside the United States, you consent to processing in the United States where privacy laws may differ.</p>

        <h3>9. Changes to this policy</h3>
        <p>We may update this Privacy Policy. Material changes will be highlighted by updating the Last updated date and, where reasonable, via in-app notice.</p>

        <h3>10. Contact</h3>
        <p>Questions or requests: <em>replace with your support email</em><br>
        Business name: <strong>Modern Compass, a brand operated by Josh Imholte</strong></p>
      </div>
    </div>
  </div>

  <!-- Terms and Conditions modal -->
  <div id="terms-modal" class="modal" role="dialog" aria-modal="true" aria-labelledby="terms-title" hidden>
    <div class="modal-content" role="document" tabindex="-1">
      <button id="terms-close" class="modal-close" type="button" aria-label="Close terms and conditions">×</button>
      <h2 id="terms-title">Terms and Conditions</h2>
      <div class="modal-body policy-body">
        <p><strong>Last updated:</strong> September 2, 2025</p>
        <p>Impulse Wallet is a product offered by <strong>Modern Compass, a brand operated by Josh Imholte</strong>. These Terms and Conditions govern your access to and use of Impulse Wallet. By using the app, you agree to these Terms.</p>

        <h3>1. Beta nature</h3>
        <p>Impulse Wallet is in beta. Features may change, break, or be discontinued. We may suspend or terminate access at any time.</p>

        <h3>2. Eligibility</h3>
        <p>You must be at least 13 years old or the minimum age in your jurisdiction and able to form a binding contract. You are responsible for the activity on your account or device.</p>

        <h3>3. Acceptable use</h3>
        <p>Do not misuse the app including reverse engineering, attacking, scraping, or using it unlawfully. Do not upload or transmit harmful code. Use the app only as intended and in compliance with applicable laws.</p>

        <h3>4. Content and data</h3>
        <p>You retain rights to the content and data you provide. You grant us a non-exclusive, worldwide license to use, store, and process your content as needed to operate and improve the service including anonymized or aggregated analysis.</p>

        <h3>5. No financial, medical, or legal advice</h3>
        <p>Impulse Wallet is a self-improvement and habit tool. It does not provide financial, medical, mental-health, or legal advice. Decisions you make using the app are your responsibility.</p>

        <h3>6. Disclaimer of warranties</h3>
        <p>THE SERVICE IS PROVIDED “AS IS” AND “AS AVAILABLE.” TO THE FULLEST EXTENT PERMITTED BY LAW, WE DISCLAIM ALL WARRANTIES, EXPRESS OR IMPLIED, INCLUDING MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE, AND NON-INFRINGEMENT. We do not guarantee error-free or uninterrupted operation.</p>

        <h3>7. Limitation of liability</h3>
        <p>TO THE FULLEST EXTENT PERMITTED BY LAW, WE INCLUDING ANY CONTRACTORS OR SERVICE PROVIDERS WE WORK WITH WILL NOT BE LIABLE FOR INDIRECT, INCIDENTAL, SPECIAL, CONSEQUENTIAL, EXEMPLARY, OR PUNITIVE DAMAGES, OR ANY LOSS OF PROFITS, REVENUE, DATA, OR GOODWILL. OUR TOTAL LIABILITY FOR ANY CLAIM WILL NOT EXCEED <strong>$100</strong> OR THE AMOUNT YOU PAID US IN THE 3 MONTHS BEFORE THE CLAIM WHICHEVER IS GREATER.</p>

        <h3>8. Termination</h3>
        <p>You may stop using the app at any time. We may suspend or terminate access if you violate these Terms or for operational reasons. Upon termination, sections intended to survive including disclaimers and limitations of liability will continue to apply.</p>

        <h3>9. Changes to Terms</h3>
        <p>We may update these Terms. Continued use after changes become effective constitutes acceptance.</p>

        <h3>10. Governing law</h3>
        <p>These Terms are governed by the laws of Texas, USA, without regard to conflicts of law. Venue and jurisdiction lie in the state and federal courts located in Bexar County, Texas unless prohibited by law.</p>

        <h3>11. Contact</h3>
        <p>Questions about these Terms: <em>replace with your support email</em><br>
        Business name: <strong>Modern Compass, a brand operated by Josh Imholte</strong></p>
      </div>
    </div>
  </div>

  </main>
<script src="https://cdn.auth0.com/js/auth0-spa-js/2.0/auth0-spa-js.production.js"></script>
<script src="app.js?v=2"></script>
</body>
</html>
